<!doctype html>
<html>
 <head>
  <title>jsapi微信支付前台demo</title>
  <meta name="keywords" content="关键字">
  <meta name="description" content="描述">
  <meta name="content-type" content="text/html;charset=utf-8">
  
  <script src="js/jquery/jquery-1.11.0.min.js" type="text/javascript"></script>
  <script src="js/jweixin-1.0.0.js" type="text/javascript"></script>
  <style>
	.choose{width:500px;height:300px;margin:0 auto;background:#FCF;margin-top:150px;text-align:center;padding-top:100px;}
  </style>
	
 </head>

 <body>
	
	<div align="center">
		<p >请注意，微信公众平台的授权目录一定要配置到这也页面所在的目录哦</p>
	</div>
	
	<div class="choose" >
		Click me to pay!
		<br><br>
		QQ:553018567
	</div>
 </body>

 <script>
 	$(document).ready( function(){
		//点击测试,注意参数是demo中生成的package
		$(".choose").click(function(){
		    WeixinJSBridge.invoke('getBrandWCPayRequest',{
		    	//请注意，这个地方放Demo.java中生成的package
		    },
		    function(res){
		       //支付成功或失败前台判断
    	       if(res.err_msg=='get_brand_wcpay_request:ok'){
    	    	   alert('恭喜您，支付成功!');
    	       }else{
    	    	   alert('支付失败');
    	       }
		     });
		     
		     // wx.chooseWXPay({
		      // timestamp: 1414723227,
		      // nonceStr: 'noncestr',
		      // package: 'addition=action_id%3dgaby1234%26limit_pay%3d&bank_type=WX&body=innertest&fee_type=1&input_charset=GBK&notify_url=http%3A%2F%2F120.204.206.246%2Fcgi-bin%2Fmmsupport-bin%2Fnotifypay&out_trade_no=1414723227818375338&partner=1900000109&spbill_create_ip=127.0.0.1&total_fee=1&sign=432B647FE95C7BF73BCD177CEECBEF8D',
		      // signType: 'SHA1', // 注意：新版支付接口使用 MD5 加密
		      // paySign: 'bd5b1933cda6e9548862944836a9b52e8c9a2b69'
		    // });
	    
	    });
  });
 </script>
</html>
